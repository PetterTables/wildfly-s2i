schema_version: 1
name: jboss.container.wildfly.s2i-wildfly.bash
version: '1.0'
description: Customization of common Maven S2I for WildFly S2I images.

envs:
- name: MAVEN_ARGS
  description: The main args passed to maven. Artifacts can be retrieved from both community and ga repositories (new starting WF18).
  value: "--e -Popenshift -DskipTests -Dcom.redhat.xpaas.repo.jbossorg -Dcom.redhat.xpaas.repo.redhatga -Dfabric8.skip=true"

# These labels could be moved to shared s2i module.
labels:
- name: io.openshift.s2i.scripts-url
  value: &imgLocation image:///usr/local/s2i
- name: io.s2i.scripts-url
  value: *imgLocation
execute:
- script: configure.sh

modules:
  install:
  - name: jboss.container.wildfly.s2i.bash